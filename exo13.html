<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Exo</title>
    <style>
      /*CSS si nécessaire*/
              /* Ajoutez vos styles ici */
              /* .konami-activated {
                background-color: rebeccapurple; */
            /* Styles après activation du code Konami */
        /* } */
    </style>
  </head>
  <body>
    <h1>Exo</h1>
    <!-- Votre code HTML ici -->
    <h2>Objectif :</h2>
    <p>
      Apprendre à détecter une séquence spécifique de touches (le code Konami)
      pour déclencher un changement de style sur une page web.
    </p>

    <p>Qu'est-ce que le Code Konami ?</p>

    <p>
      Le code Konami est une séquence de touches célèbre dans le monde des jeux
      vidéo, permettant de débloquer des fonctionnalités secrètes ou des bonus.
      Historiquement, le code est Haut, Haut, Bas, Bas, Gauche, Droite, Gauche,
      Droite, B, A.
    </p>

    <h2>Énoncé :</h2>

    <p>
      Dans cet exercice, vous allez enrichir l'expérience utilisateur sur le
      site de PixelBay en ajoutant un easter egg : lorsqu'un utilisateur saisit
      le code Konami, la page subit une transformation de style pour révéler un
      message spécial et appliquer des effets visuels.
    </p>

    <h2>Instructions :</h2>

    <ol>
      <li>
        Écoute des Touches : Utilisez un écouteur d'événements pour détecter les
        séquences de touches saisies par l'utilisateur.
      </li>
      <li>
        Vérification du Code Konami : Comparez la séquence de touches saisies
        avec le code Konami. Si la séquence correspond, déclenchez une fonction
        pour changer le style de la page.
      </li>
      <li>
        Application de Styles : Lorsque le code Konami est activé, affichez un
        message "Code Konami activé !" et ajoutez des styles supplémentaires à
        votre page. Soyez créatif avec les modifications apportées.
      </li>
    </ol>

    <h1>Bienvenue chez PixelBay</h1>

    <script>
      // Votre script JS ici

   
    let pattern = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
    let current = 0
    let keyHandler = function (event) {
        console.log(event.key)
        //si la clé n'est pas dans le pattern, reset la fonction ou si l'ordre des touches entrées n'est pas le bon
        if (pattern.indexOf(event.key) < 0 || event.key !== pattern[current]) {
            current = 0;
            return;
        }

        // mise à jour de l'état d'avancement du modele en cas de succès, clé par clé (incrémentation)
        current++;

        // Comportement en cas de pattern complet, comment alerter et effacer
        if (pattern.length === current) {
            current = 0
            window.alert('Bravo tu as trouvé')
            // document.body.classList.add.('konami-activated') -> pour activer la classe css
            document.body.style.backgroundColor = "pink" 
            //pour mettre du style directement via le js
        }
    }
    document.addEventListener('keydown', keyHandler, false);
    console.log(keyHandler);

    </script>
  </body>
</html>
